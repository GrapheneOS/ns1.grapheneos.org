@ 300 IN LUA A (";"
"  local ips_na_south_east = {'172.96.172.37'}"
"  local ips_na_north_east = {'91.246.30.2'}"
"  local ips_na_south_west = {'104.194.8.203'}"
"  local ips_na_north_west = {'45.32.230.4'}"
"  local ips_sa = {'216.238.116.202'}"
"  local ips_eu_isles = {'185.44.76.161'}"
"  local ips_eu_west = {'84.32.64.33'}"
"  local ips_eu_central = {'159.195.46.80'}"
"  local ips_as_south_east = {'66.42.50.166'}"
"  local ips_as_east = {'207.148.108.82'}"
"  local ips_oc = {'107.191.57.135'}"
"  local ips"
"  local cn = continentCode()"
"  local cc"
"  local re"
"  if cn == '--' then"
"    cn = '{{continent}}'"
"    cc = '{{country}}'"
"    re = '{{region}}'"
"  else"
"    cc = countryCode()"
"    if cc == '--' and cn == '{{continent}}' then"
"      cc = '{{country}}'"
"      re = '{{region}}'"
"    else"
"      re = regionCode()"
"      if re == '--' and cc == '{{country}}' then"
"        re = '{{region}}'"
"      end"
"    end"
"  end"
"  if cn == 'na' then"
"    local cc_na_north = {bm=true, ca=true, gl=true, pm=true}"
"    local re_us_na_south_west = {az=true, ca=true, co=true, hi=true, ks=true, nm=true, nv=true, ok=true, ut=true, tx=true}"
"    local re_us_na_north_west = {ak=true, id=true, mt=true, nd=true, ne=true, ['or']=true, sd=true, wa=true, wy=true}"
"    local re_us_na_south_east = {al=true, ar=true, fl=true, ga=true, la=true, ms=true, nc=true, sc=true, tn=true}"
"    local re_ca_na_west = {ab=true, bc=true, nt=true, sk=true, yt=true}"
"    if (cc == 'us' and re_us_na_south_west[re]) or cc == 'mx' then"
"      ips = {ips_na_south_west, ips_na_north_west, ips_na_south_east, ips_na_north_east, ips_eu_isles, ips_eu_west, ips_eu_central, ips_sa, ips_as_east, ips_as_south_east, ips_oc}"
"    elseif (cc == 'us' and re_us_na_north_west[re]) or (cc == 'ca' and (re_ca_na_west[re] or ({{us_west}} and re == '--'))) then"
"      ips = {ips_na_north_west, ips_na_south_west, ips_na_north_east, ips_na_south_east, ips_eu_isles, ips_eu_west, ips_eu_central, ips_sa, ips_as_east, ips_as_south_east, ips_oc}"
"    elseif (cc == 'us' and not re_us_na_south_east[re]) or cc_na_north[cc] then"
"      ips = {ips_na_north_east, ips_na_south_east, ips_na_north_west, ips_na_south_west, ips_eu_isles, ips_eu_west, ips_eu_central, ips_sa, ips_as_east, ips_as_south_east, ips_oc}"
"    else"
"      ips = {ips_na_south_east, ips_na_north_east, ips_na_south_west, ips_na_north_west, ips_eu_isles, ips_eu_west, ips_eu_central, ips_sa, ips_as_east, ips_as_south_east, ips_oc}"
"    end"
"  elseif cn == 'eu' then"
"    local cc_eu_isles = {fo=true, gb=true, gg=true, ie=true, im=true, is=true, je=true}"
"    local cc_eu_west = {ad=true, be=true, dk=true, es=true, fr=true, gi=true, lu=true, nl=true, pt=true}"
"    if cc_eu_isles[cc] then"
"      ips = {ips_eu_isles, ips_eu_west, ips_eu_central, ips_na_north_east, ips_na_south_east, ips_na_south_west, ips_na_north_west, ips_as_south_east, ips_as_east, ips_sa, ips_oc}"
"    elseif cc_eu_west[cc] then"
"      ips = {ips_eu_west, ips_eu_central, ips_eu_isles, ips_na_north_east, ips_na_south_east, ips_na_south_west, ips_na_north_west, ips_as_south_east, ips_as_east, ips_sa, ips_oc}"
"    else"
"      ips = {ips_eu_central, ips_eu_west, ips_eu_isles, ips_na_north_east, ips_na_south_east, ips_na_south_west, ips_na_north_west, ips_as_south_east, ips_as_east, ips_sa, ips_oc}"
"    end"
"  elseif cn == 'af' then"
"    ips = {ips_eu_central, ips_eu_west, ips_eu_isles, ips_na_north_east, ips_na_south_east, ips_na_south_west, ips_na_north_west, ips_as_south_east, ips_as_east, ips_sa, ips_oc}"
"  elseif cn == 'as' then"
"    local cc_as_west = {ae=true, am=true, az=true, bh=true, eg=true, ge=true, il=true, iq=true, ir=true, jo=true, kg=true, kw=true, kz=true, lb=true, om=true, ps=true, qa=true, ru=true, sa=true, sy=true, tj=true, tm=true, tr=true, uz=true, ye=true}"
"    local cc_as_east = {cn=true, hk=true, jp=true, kp=true, kr=true, mn=true, mo=true, tw=true}"
"    if cc_as_west[cc] then"
"      ips = {ips_eu_central, ips_eu_west, ips_eu_isles, ips_na_north_east, ips_na_south_east, ips_na_south_west, ips_na_north_west, ips_as_south_east, ips_as_east, ips_sa, ips_oc}"
"    elseif cc_as_east[cc] then"
"      ips = {ips_as_east, ips_as_south_east, ips_na_south_west, ips_na_north_west, ips_na_north_east, ips_na_south_east, ips_eu_central, ips_eu_west, ips_eu_isles, ips_oc, ips_sa}"
"    else"
"      ips = {ips_as_south_east, ips_as_east, ips_na_south_west, ips_na_north_west, ips_na_north_east, ips_na_south_east, ips_eu_central, ips_eu_west, ips_eu_isles, ips_oc, ips_sa}"
"    end"
"  elseif cn == 'oc' or cn == 'an' then"
"    local cc_oc_north = {fm=true, gu=true, mh=true, mp=true, nr=true, pw=true}"
"    if cc_oc_north[cc] then"
"      ips = {ips_as_east, ips_as_south_east, ips_oc, ips_na_south_west, ips_na_north_west, ips_na_north_east, ips_na_south_east, ips_eu_central, ips_eu_west, ips_eu_isles, ips_sa}"
"    else"
"      ips = {ips_oc, ips_as_east, ips_as_south_east, ips_na_south_west, ips_na_north_west, ips_na_north_east, ips_na_south_east, ips_eu_central, ips_eu_west, ips_eu_isles, ips_sa}"
"    end"
"  else"
"    local sa_cc_north = {co=true, ec=true, gf=true, gy=true, pe=true, sr=true, ve=true}"
"    if sa_cc_north[cc] then"
"      ips = {ips_na_south_east, ips_na_north_east, ips_na_south_west, ips_na_north_west, ips_eu_isles, ips_eu_central, ips_sa, ips_as_east, ips_as_south_east, ips_oc}"
"    else"
"      ips = {ips_sa, ips_na_south_east, ips_na_north_east, ips_na_south_west, ips_na_north_west, ips_eu_isles, ips_eu_central, ips_as_east, ips_as_south_east, ips_oc}"
"    end"
"  end"
"  local result = ifurlup('https://grapheneos.org/robots.txt', ips, {selector='all', backupSelector='all'})"
"  if #result > 1 then return ips[1] else return result end")
@ 300 IN LUA AAAA (";"
"  local ips_na_south_east = {'2605:9880:400:1100:15:1240:515:6e'}"
"  local ips_na_north_east = {'2602:f4d9:5:1::1'}"
"  local ips_na_south_west = {'2605:9880:200:400:135:7700:ef0a:81'}"
"  local ips_na_north_west = {'2001:19f0:8000:3454:5400:05ff:fec8:4139'}"
"  local ips_sa = {'2001:19f0:b800:1f13:5400:05ff:fed0:8ea7'}"
"  local ips_eu_isles = {'2a01:4020:0:52::2'}"
"  local ips_eu_west = {'2a01:4020:0:52::2'}"
"  local ips_eu_central = {'2a0a:4cc0:c1:9de2::1'}"
"  local ips_as_south_east = {'2001:19f0:4400:2c24:5400:05ff:fec7:4cdc'}"
"  local ips_as_east = {'2401:c080:1000:13f8:5400:05ff:fee8:3c8b'}"
"  local ips_oc = {'2401:c080:1800:1c40:5400:05ff:fec7:c902'}"
"  local ips"
"  local cn = continentCode()"
"  local cc"
"  local re"
"  if cn == '--' then"
"    cn = '{{continent}}'"
"    cc = '{{country}}'"
"    re = '{{region}}'"
"  else"
"    cc = countryCode()"
"    if cc == '--' and cn == '{{continent}}' then"
"      cc = '{{country}}'"
"      re = '{{region}}'"
"    else"
"      re = regionCode()"
"      if re == '--' and cc == '{{country}}' then"
"        re = '{{region}}'"
"      end"
"    end"
"  end"
"  if cn == 'na' then"
"    local cc_na_north = {bm=true, ca=true, gl=true, pm=true}"
"    local re_us_na_south_west = {az=true, ca=true, co=true, hi=true, ks=true, nm=true, nv=true, ok=true, ut=true, tx=true}"
"    local re_us_na_north_west = {ak=true, id=true, mt=true, nd=true, ne=true, ['or']=true, sd=true, wa=true, wy=true}"
"    local re_us_na_south_east = {al=true, ar=true, fl=true, ga=true, la=true, ms=true, nc=true, sc=true, tn=true}"
"    local re_ca_na_west = {ab=true, bc=true, nt=true, sk=true, yt=true}"
"    if (cc == 'us' and re_us_na_south_west[re]) or cc == 'mx' then"
"      ips = {ips_na_south_west, ips_na_north_west, ips_na_south_east, ips_na_north_east, ips_eu_isles, ips_eu_west, ips_eu_central, ips_sa, ips_as_east, ips_as_south_east, ips_oc}"
"    elseif (cc == 'us' and re_us_na_north_west[re]) or (cc == 'ca' and (re_ca_na_west[re] or ({{us_west}} and re == '--'))) then"
"      ips = {ips_na_north_west, ips_na_south_west, ips_na_north_east, ips_na_south_east, ips_eu_isles, ips_eu_west, ips_eu_central, ips_sa, ips_as_east, ips_as_south_east, ips_oc}"
"    elseif (cc == 'us' and not re_us_na_south_east[re]) or cc_na_north[cc] then"
"      ips = {ips_na_north_east, ips_na_south_east, ips_na_north_west, ips_na_south_west, ips_eu_isles, ips_eu_west, ips_eu_central, ips_sa, ips_as_east, ips_as_south_east, ips_oc}"
"    else"
"      ips = {ips_na_south_east, ips_na_north_east, ips_na_south_west, ips_na_north_west, ips_eu_isles, ips_eu_west, ips_eu_central, ips_sa, ips_as_east, ips_as_south_east, ips_oc}"
"    end"
"  elseif cn == 'eu' then"
"    local cc_eu_isles = {fo=true, gb=true, gg=true, ie=true, im=true, is=true, je=true}"
"    local cc_eu_west = {ad=true, be=true, dk=true, es=true, fr=true, gi=true, lu=true, nl=true, pt=true}"
"    if cc_eu_isles[cc] then"
"      ips = {ips_eu_isles, ips_eu_west, ips_eu_central, ips_na_north_east, ips_na_south_east, ips_na_south_west, ips_na_north_west, ips_as_south_east, ips_as_east, ips_sa, ips_oc}"
"    elseif cc_eu_west[cc] then"
"      ips = {ips_eu_west, ips_eu_central, ips_eu_isles, ips_na_north_east, ips_na_south_east, ips_na_south_west, ips_na_north_west, ips_as_south_east, ips_as_east, ips_sa, ips_oc}"
"    else"
"      ips = {ips_eu_central, ips_eu_west, ips_eu_isles, ips_na_north_east, ips_na_south_east, ips_na_south_west, ips_na_north_west, ips_as_south_east, ips_as_east, ips_sa, ips_oc}"
"    end"
"  elseif cn == 'af' then"
"    ips = {ips_eu_central, ips_eu_west, ips_eu_isles, ips_na_north_east, ips_na_south_east, ips_na_south_west, ips_na_north_west, ips_as_south_east, ips_as_east, ips_sa, ips_oc}"
"  elseif cn == 'as' then"
"    local cc_as_west = {ae=true, am=true, az=true, bh=true, eg=true, ge=true, il=true, iq=true, ir=true, jo=true, kg=true, kw=true, kz=true, lb=true, om=true, ps=true, qa=true, ru=true, sa=true, sy=true, tj=true, tm=true, tr=true, uz=true, ye=true}"
"    local cc_as_east = {cn=true, hk=true, jp=true, kp=true, kr=true, mn=true, mo=true, tw=true}"
"    if cc_as_west[cc] then"
"      ips = {ips_eu_central, ips_eu_west, ips_eu_isles, ips_na_north_east, ips_na_south_east, ips_na_south_west, ips_na_north_west, ips_as_south_east, ips_as_east, ips_sa, ips_oc}"
"    elseif cc_as_east[cc] then"
"      ips = {ips_as_east, ips_as_south_east, ips_na_south_west, ips_na_north_west, ips_na_north_east, ips_na_south_east, ips_eu_central, ips_eu_west, ips_eu_isles, ips_oc, ips_sa}"
"    else"
"      ips = {ips_as_south_east, ips_as_east, ips_na_south_west, ips_na_north_west, ips_na_north_east, ips_na_south_east, ips_eu_central, ips_eu_west, ips_eu_isles, ips_oc, ips_sa}"
"    end"
"  elseif cn == 'oc' or cn == 'an' then"
"    local cc_oc_north = {fm=true, gu=true, mh=true, mp=true, nr=true, pw=true}"
"    if cc_oc_north[cc] then"
"      ips = {ips_as_east, ips_as_south_east, ips_oc, ips_na_south_west, ips_na_north_west, ips_na_north_east, ips_na_south_east, ips_eu_central, ips_eu_west, ips_eu_isles, ips_sa}"
"    else"
"      ips = {ips_oc, ips_as_east, ips_as_south_east, ips_na_south_west, ips_na_north_west, ips_na_north_east, ips_na_south_east, ips_eu_central, ips_eu_west, ips_eu_isles, ips_sa}"
"    end"
"  else"
"    local sa_cc_north = {co=true, ec=true, gf=true, gy=true, pe=true, sr=true, ve=true}"
"    if sa_cc_north[cc] then"
"      ips = {ips_na_south_east, ips_na_north_east, ips_na_south_west, ips_na_north_west, ips_eu_isles, ips_eu_central, ips_sa, ips_as_east, ips_as_south_east, ips_oc}"
"    else"
"      ips = {ips_sa, ips_na_south_east, ips_na_north_east, ips_na_south_west, ips_na_north_west, ips_eu_isles, ips_eu_central, ips_as_east, ips_as_south_east, ips_oc}"
"    end"
"  end"
"  local result = ifurlup('https://grapheneos.org/robots.txt', ips, {selector='all', backupSelector='all'})"
"  if #result > 1 then return ips[1] else return result end")
