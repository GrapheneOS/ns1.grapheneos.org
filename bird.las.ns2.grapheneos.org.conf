define public_ipv4 = 205.185.124.155;
define public_ipv6 = 2605:6400:0020:1c8f:a0c9:372d:482e:945b;
define neighbor_as = 53667;
define neighbor_ipv4 = 169.254.169.179;
define neighbor_ipv6 = 2605:6400:ffff::2;
define bgp_password = "{{bgp_password}}";

filter grapheneos_ipv4_filter {
    if proto = "grapheneos_ipv4_route" then {
        # Cogent: set localpref to 10 upon entering AF Region from other regions of the Cogent backbone
        bgp_community.add((174, 932));
        # Cogent: set localpref to 10 upon entering SA Region from other regions of the Cogent backbone
        bgp_community.add((174, 952));
        # Cogent: set localpref to 10 upon entering EU Region from other regions of the Cogent backbone
        bgp_community.add((174, 982));

        accept;
    }
    reject;
};

filter grapheneos_ipv6_filter {
    if proto = "grapheneos_ipv6_route" then {
        # Cogent: set localpref to 10 upon entering AF Region from other regions of the Cogent backbone
        bgp_community.add((174, 932));
        # Cogent: set localpref to 10 upon entering SA Region from other regions of the Cogent backbone
        bgp_community.add((174, 952));
        # Cogent: set localpref to 10 upon entering EU Region from other regions of the Cogent backbone
        bgp_community.add((174, 982));

        accept;
    }
    reject;
};
